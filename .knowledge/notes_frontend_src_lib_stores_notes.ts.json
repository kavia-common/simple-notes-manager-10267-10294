{"is_source_file": true, "format": "TypeScript", "description": "This file defines a Svelte store managing a notes application. It handles loading and persisting notes to localStorage, and provides CRUD operations, selection, and search functionalities for notes.", "external_files": ["../types", "../utils"], "external_methods": ["get", "writable"], "published": ["notesStore"], "classes": [], "methods": [{"name": "function load(): NotesState { load", "description": "Loads the notes state from localStorage, with fallback and validation.", "scope": "", "scopeKind": ""}, {"name": "function persist(state: NotesState) { persist", "description": "Persists the current notes state to localStorage.", "scope": "", "scopeKind": ""}, {"name": "createNote", "description": "Creates a new note with optional partial data, assigns it a unique ID, and sets it as selected."}, {"name": "updateNote", "description": "Updates an existing note identified by ID with partial data."}, {"name": "deleteNote", "description": "Deletes a note by ID and adjusts the selection if needed."}, {"name": "selectNote", "description": "Sets the currently selected note by ID."}, {"name": "setSearch", "description": "Sets the current search query for filtering notes."}, {"name": "getSelected", "description": "Retrieves the currently selected note."}, {"name": "filteredNotes", "description": "Provides notes filtered based on the current search query."}, {"name": "function createStore() { createStore", "scope": "", "scopeKind": "", "description": "unavailable"}], "calls": ["localStorage.getItem", "localStorage.setItem", "JSON.parse", "JSON.stringify", "get", "store.update"], "search-terms": ["notes store", "localStorage persistence", "CRUD notes", "search filter", "Svelte store"], "state": 2, "file_id": 15, "knowledge_revision": 31, "git_revision": "", "ctags": [{"_type": "tag", "name": "STORAGE_KEY", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^const STORAGE_KEY = \"notes_app_state_v1\";$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "createStore", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function createStore() {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "idx", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const idx = s.notes.findIndex((n) => n.id === id);$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "initial", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^  const initial = load();$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "load", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function load(): NotesState {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "next", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^          const next = Math.max(0, Math.min(idx, notes.length - 1));$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "note", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const note: Note = {$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const notes = [note, ...s.notes];$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const notes = s.notes.filter((n) => n.id !== id);$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "notes", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^      const notes = s.notes.map((n) =>$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "notesStore", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^export const notesStore = createStore();$/", "language": "TypeScript", "kind": "constant"}, {"_type": "tag", "name": "now", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const now = isoNow();$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "parsed", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const parsed = JSON.parse(raw) as NotesState;$/", "language": "TypeScript", "kind": "constant", "scope": "load", "scopeKind": "function"}, {"_type": "tag", "name": "persist", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^function persist(state: NotesState) {$/", "language": "TypeScript", "kind": "function"}, {"_type": "tag", "name": "q", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const q = s.search.trim().toLowerCase();$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "raw", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const raw = localStorage.getItem(STORAGE_KEY);$/", "language": "TypeScript", "kind": "constant", "scope": "load", "scopeKind": "function"}, {"_type": "tag", "name": "s", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^    const s = get(store);$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}, {"_type": "tag", "name": "store", "path": "/home/kavia/workspace/code-generation/simple-notes-manager-10267-10294/notes_frontend/src/lib/stores/notes.ts", "pattern": "/^  const store = writable<NotesState>(initial);$/", "language": "TypeScript", "kind": "constant", "scope": "createStore", "scopeKind": "function"}], "hash": "ba396649d57e07f58950e455b26b39f6", "format-version": 4, "code-base-name": "notes_frontend", "filename": "notes_frontend/src/lib/stores/notes.ts", "revision_history": [{"31": ""}]}